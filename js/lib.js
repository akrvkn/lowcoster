!function(){var o={window:$(window),browser:function(){var o,e=navigator.userAgent,t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],i=function(o){return $("html").addClass(o.name+" "+o.name+o.version),o};return/trident/i.test(t[1])?(o=/\brv[ :]+(\d+)/g.exec(e)||[],i({name:"ie",version:o[1]||""})):"Chrome"===t[1]&&(o=e.match(/\bOPR\/(\d+)/),null!=o)?i({name:"opera",version:o[1]}):(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(o=e.match(/version\/(\d+)/i))&&t.splice(1,1,o[1]),i({name:t[0].toLowerCase(),version:t[1]}))}(),isMobile:function(){var o=/iphone|ipad|ipod|android|blackberry|mini|windowssce|palm/i.test(navigator.userAgent);return o&&$(function(){$("html").addClass("is-mobile")}),o}(),uniFormBlackout:function(o){var e,t="static"==o.css("position");return t&&o.css("position","relative"),e=$('<div class="form-overlay"></div>').appendTo(o),e.css({opacity:0,borderRadius:o.css("border-radius")}),e.animate({opacity:.5},200),function(){e.remove(),t&&o.css("position","static")}},uniFormError:function(e,t){if(void 0===t)e.find("div.error:not([data-error-handler])").remove(),e.find("div.error-handler").text("").attr("style",""),e.find(".error").removeClass("error");else{$.each(t,function(t,i){if("#"==t)"object"==typeof i?$$.alert(i.join("<br>")):$$.alert(i);else{var a=e.find('[name="'+t+'"]'),r=e.find('[data-error-handler="'+t+'"]');r.length&&(a=r),a.length&&o.uniFormShowError(a,i)}});var i=e.find("div.error:eq(0)");o.isElementOnView(i)||o.scrollTo(i)}},uniFormShowError:function(o,e){if(o.is(":visible")){var t=$('<div class="error">'+e+"</div>"),i={radius:o.css("border-radius"),family:o.css("font-family"),weight:parseFloat(o.css("font-weight")),size:parseFloat(o.css("font-size")),line:o.css("line-height"),width:o.width(),height:o.height(),border:{top:parseFloat(o.css("border-top-width"))||0,right:parseFloat(o.css("border-right-width"))||0,bottom:parseFloat(o.css("border-bottom-width"))||0,left:parseFloat(o.css("border-left-width"))||0},padding:{top:parseFloat(o.css("padding-top")),right:parseFloat(o.css("padding-right")),bottom:parseFloat(o.css("padding-bottom")),left:parseFloat(o.css("padding-left"))}};t.css({borderRadius:i.radius,fontFamily:i.family,fontWeight:i.weight,fontSize:i.size,lineHeight:i.line,paddingTop:i.padding.top,paddingRight:i.padding.right,paddingBottom:i.padding.bottom,paddingLeft:i.padding.left,top:i.border.top,right:i.border.right,left:i.border.left,height:i.height+i.padding.top+i.padding.bottom}),"INPUT"==o[0].nodeName&&t.addClass("mod-nowrap").attr("title",t.text()),o.addClass("error").closest(".input__field").prepend(t),t.click(function(){o.is("[data-error-handler]")?o.click():o.focus(),o.removeClass("error").closest("tr").removeClass("error"),t.remove()}),o.on("focus",function(){o.removeClass("error").closest("tr").removeClass("error"),t.remove()}),o.is("[data-error-handler]")&&t.addClass("error-handler"),t.hide().fadeIn(100)}},uniFormHandle:function(e,t){e.on("submit",function(e){e.preventDefault(),o.uniFormSubmit($(this),t)})},uniFormSubmit:function(e,t){var i;if(t.success&&(t.afterSuccess=t.success,delete t.success),!e.data("blocked")){if(t.beforeData){var a=t.beforeData(e);if(a===!1)return!1}t.overlay&&(i=o.uniFormBlackout(t.overlay===!0?e:t.overlay)),e.data("blocked",!0);var r=(e.data("ignoreDefaultLoading"),location.protocol+"//"+location.hostname+location.pathname),n={url:r};return t.data&&$.extend(n,t.data),t.beforeSubmit&&t.beforeSubmit(e),e.find(".attach-images").each(function(){var o=$(this),e=o.find(".attach-images-item"),t=o.siblings(".form-input-field").find("textarea, input"),i=t.val();e.each(function(){var o=$(this);o.data("id")&&(i.match(new RegExp("\\[img="+o.data("id")+"\\]","ig"))||(i+="[img="+o.data("id")+"]"))}),t.val(i)}),e.ajaxSubmit({dataType:"json",data:n,beforeSend:function(){o.uniFormError(e)},complete:function(){e.data("blocked",!1),t.overlay&&i()},success:function(i){e.data("blocked",!1),i.error?(o.uniFormError(e,i.error),t.afterData&&t.afterData(e,i)):i.success?(e.find(".attach-images").remove(),t.afterData&&t.afterData(e,i),t.afterSuccess&&t.afterSuccess(i,e),i.$events&&$.each(i.$events,function(o,e){$$.dispatcher.trigger(o,e)})):t.afterData&&t.afterData(e,i)},error:function(o,e,t){"parsererror"!=e&&"error"!=e||window.open("","","width=950,height=600,scrollbars=yes").document.write(o.responseText)}}),!1}},createModalBox:function(o,e){return $('<div class="modal-box '+("object"!=typeof o?o:"")+" "+(e&&e.boxCssClass?e.boxCssClass:"")+'"><i class="arcticmodal-close modal-box-close"></i><div class="modal-box-content"></div>')},openModal:function(o,e){if(e=e||{},"object"==typeof o&&o.jquery){var t=$$.createModalBox(o,e).find(".modal-box-content").html(e.title?'<div class="modal-box-title">'+e.title+"</div>":"").append(o.clone()).end();return t.arcticmodal(e)}return"object"==typeof o&&o.url?(e=o,e.type="ajax",e.afterOpen&&(e.afterOpenSuccess=e.afterOpen,delete e.afterOpen),e.ajax||(e.ajax={}),e.data&&(e.ajax.data=e.data,delete e.data),$.extend(e.ajax,{type:"get",success:function(o,t,i){var a;try{a=$.parseJSON(i),i=a}catch(o){i={content:i}}i.content?(o.body.html($$.createModalBox({})),t=o.body.find(".modal-box-content").append(i.content),e.afterOpenSuccess&&e.afterOpenSuccess.call(this,o,t,i)):(t.arcticmodal("close"),i.error&&i.error["#"]&&$$.alert(i.error["#"]))},error:function(o,e){}}),$.arcticmodal(e),void 0):$$.createModalBox(o).find(".modal-box-content").html((e.title?'<div class="modal-box-title">'+e.title+"</div>":"")+$("."+o).html()).end().arcticmodal(e)},morph:function(o,e,t,i){return o=parseInt(o),o=Math.abs(o)%100,o>10&&o<20?i:(o%=10,o>1&&o<5?t:1==o?e:i)},scrollTo:function(o,e,t,i){if(!o.length)return!1;var a="html:not(:animated), body:not(:animated)",r=!1,n=o.closest(".arcticmodal-container");n.length&&(a=n.filter(":not(:animated)")),e||(e=300),t||(t=0);var s={};o-0>=0?s.top=o:s=o.offset(),t=s.top-t,s&&($(a).animate({scrollTop:t},e,function(){i&&!r&&(r=!0,i())}),$(window).one("scroll",function(){$(a).stop(),i&&!r&&(r=!0,i())})),r=!1},isElementOnView:function(o,e){if(!o.length)return!1;e||(e=0);var t=$(window).scrollTop(),i=t+$(window).height(),a=$(o).offset().top,r=a+$(o).height();return r<=i&&a>=t+e},confirm:function(o){var e=o.message?o.message:arguments[0],t=o.onConfirm?o.onConfirm:arguments[1],i=o.onCancel?o.onCancel:arguments[2],a=$$.createModalBox("modal-box-message"),r=a.find(".modal-box-content");r.html('<div class="modal-box-tabled"><div class="modal-box-tabled-cell"><div class="modal-box-tabled-cell-body">'+e+"</div></div></div>"),$('<div class="modal-box-buttons modal-box-buttons--center"><button button="middle" class="button-confirm-action">OK</button><button  button="middle outline" class="button-cancel-action arcticmodal-close">Отмена</button></div></div>').insertAfter(r),a.arcticmodal(),a.find(".button-confirm-action")[0].focus(),i&&a.find(".button-cancel-action").on("click",function(){i()}),a.find(".button-confirm-action").on("click",function(){a.arcticmodal("close"),t&&t()})},alert:function(o,e){function t(o,e){var t=$$.createModalBox("modal-box-message"),i=t.find(".modal-box-content");i.html('<div class="modal-box-tabled"><div class="modal-box-tabled-cell"><div class="modal-box-tabled-cell-body">'+o+"</div></div></div>"),$('<div class="modal-box-buttons modal-box-buttons--center"><button button="middle" class="arcticmodal-close">OK</button></div>').insertAfter(i),t.arcticmodal(),t.find("button")[0].focus();var a=e&&e.onOk?e.onOk:arguments[2];t.find("button").on("click",function(){a&&a()})}t(o,e)},blockOverlay:function(o,e){var t=o.data("block-overlay"),e=$.extend({zIndex:100,opacity:.5,position:"absolute",top:0,left:0,right:0,bottom:0,background:"#fff"},e);return t?(o.removeData("block-overlay"),void t.remove()):(t=$('<div class="block-overlay" />').css(e),"static"==o.css("position")&&o.css({position:"relative"}),o.data("block-overlay",t.appendTo(o)),t)}};window.$$=o}(),$.fn.formHandle=function(o){return o=o||{},this.each(function(){$$.uniFormHandle($(this),o)}),this},function(o){var e=$$.window,t=$$.isMobile;o.fn.infoTooltip=function(){if(o.fn.qtip)return o(this).each(function(i,a){var r=o(a),n=r.find("[js-info-item-descr]");if(n.length>0){var s=r.find("[js-info-item-title]"),l=s.find(".info-item__title-text");s.qtip("destroy",!0),s.addClass("info-item__title_dashed").qtip({overwrite:!0,style:{classes:"qtip-main",tip:{width:13,height:14,offset:34}},content:n.html(),position:{viewport:e,my:t?"top left":"bottom left",at:t?"bottom left":"top left",target:l,adjust:{method:"shift flipinvert"}},show:{solo:!0},hide:{delay:100,fixed:!0,event:"mouseleave touchend touchstart"}}),n.remove()}})}}(jQuery),function(o){function e(o){o.hasClass("info-item_collapsed_true")?o.removeClass("info-item_collapsed_true").addClass("info-item_collapsed_false"):o.removeClass("info-item_collapsed_false").addClass("info-item_collapsed_true")}o(window);o.fn.infoCollapse=function(){if($$.isMobile)return o(this).each(function(t,i){var a=o(i),r=a.find("[js-info-item-descr]");if(r.length>0){var n=a.find("[js-info-item-title]");a.addClass("info-item_collapsable info-item_collapsed_true"),n.off(".info-collapse").on({"click.info-collapse":function(o){o.preventDefault(),e(a)}})}})}}(jQuery),function(o){o.fn.polaroid=function(){return o(this).each(function(e,t){function i(){f.html("<b>"+(l+1)+"</b>/"+n)}var a=o(t),r=a.find("[js-polaroid-frames-item]"),n=r.length,s=r.filter(".polaroid__frames-item_active"),l=s.index(),d=a.find("[js-polaroid-nav-next]"),c=a.find("[js-polaroid-nav-prev]"),f=a.find("[js-polaroid-nav-count]");i(),a.off(".polaroid").on({"goNext.polaroid":function(o){a.addClass("polaroid_direction_next").removeClass("polaroid_transitions polaroid_direction_prev"),r.removeClass("polaroid__frames-item_leaving"),setTimeout(function(){a.addClass("polaroid_transitions"),s.removeClass("polaroid__frames-item_active").addClass("polaroid__frames-item_leaving"),s=r.eq((l+1)%n).removeClass("polaroid__frames-item_second").addClass("polaroid__frames-item_active"),r.eq((l+2)%n).removeClass("polaroid__frames-item_third").addClass("polaroid__frames-item_second"),r.eq((l+3)%n).addClass("polaroid__frames-item_third"),l=s.index(),i()},10)},"goPrev.polaroid":function(o){a.addClass("polaroid_direction_prev").removeClass("polaroid_transitions polaroid_direction_next"),r.removeClass("polaroid__frames-item_leaving"),setTimeout(function(){a.addClass("polaroid_transitions"),s.removeClass("polaroid__frames-item_active").addClass("polaroid__frames-item_second"),r.eq((l+1)%n).removeClass("polaroid__frames-item_second").addClass("polaroid__frames-item_third"),r.eq((l+2)%n).removeClass("polaroid__frames-item_third").addClass("polaroid__frames-item_leaving"),s=r.eq((l-1)%n).addClass("polaroid__frames-item_active"),l=s.index(),i()},10)}}),d.off(".polaroid").on({"click.polaroid":function(o){o.preventDefault(),a.trigger("goNext")}}),c.off(".polaroid").on({"click.polaroid":function(o){o.preventDefault(),a.trigger("goPrev")}})})}}(jQuery),function(o){o.fn.scrollto=function(){return o(this).each(function(e,t){var i=o(t),a=i.data("scrollto");i.off(".scrollto"),a&&i.on({"click.scrollto":function(e){$$&&$$.scrollTo&&(e.preventDefault(),$$.scrollTo(o(a),300,o("[js-header-fixed]").length&&o("[js-header-fixed]").hasClass("header_fixed_show")?90:0),o.fn.arcticmodal&&o.arcticmodal("close"))}})})}}(jQuery),function(o){o(window);o.fn.shipInit=function(){return o(this).each(function(e,t){for(var i="",a=o(t),r=a.find("[js-ship-floor]"),n=a.find("[js-ship-info-item]"),s=a.find("[js-ship-nav-link]"),e=0;e<r.length;e++)i+="ship_floor_"+("0"+(e+1)).slice(-2)+" ";a.off(".ship").on({"floorChange.ship":function(e,t){var i=r.filter("[data-floor="+t.floor+"]"),l=i.data("item-types");a.addClass("ship_floor_selected"),r.removeClass("ship-visual__floor_active"),i.addClass("ship-visual__floor_active"),s.removeClass("nav__link_active").filter('[data-floor="'+t.floor+'"]').addClass("nav__link_active"),n.removeClass("info__list-item_active").addClass("info__list-item_unactive").filter(function(e,t){for(var i=o(t),a=0;a<l.length;a++)if(i.data("item-type")==l[a])return!0;return!1}).removeClass("info__list-item_unactive").addClass("info__list-item_active")},"floorClear.ship":function(o,e){a.removeClass("ship_floor_selected"),r.removeClass("ship-visual__floor_active"),s.removeClass("nav__link_active"),n.removeClass("info__list-item_active info__list-item_unactive")}}),s.off(".ship").on({"click.ship":function(e){e.preventDefault(),a.trigger("floorChange",{floor:o(this).data("floor")})}}),r.off(".ship").on({"click.ship":function(e){e.preventDefault();var t=o(this);t.hasClass("ship-visual__floor_active")?a.trigger("floorClear"):a.trigger("floorChange",{floor:t.data("floor")})}})})}}(jQuery);